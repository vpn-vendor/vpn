# VPN-Setup-Script v2.5.2

Этот скрипт помогает вам выполнить автоматическую настройку сервера для использования VPN конфигураций, а также легкую замену VPN через ваш собственный локальный веб-сайт. 

Скрипт тестировался и работает пока ТОЛЬКО на:
- Ubuntu 22.04 server/desktop version 

Есть конфликты на таких системах:
- Ubuntu 20.04: нет необходимых библиотек python, можно игнорировать если удалить из установки эти пакеты, но тогда не будет работать функция связанная с телеграмм ботом. 
- Linux Mint: множество ошибок связанных с графическом оболочкой, нарушение работы cinnamon.

# Особенности
- Скрипт ОТКЛЮЧАЕТ полностью поддержку ipv6 для избежания утечек и капчей ценой многофункциональности. 
- При установке скрипта требуется уже готовая локальная сеть или хотя бы свич + 1 компьютер в нём (один лишь роутер НЕ ПОДХОДИТ!), иначе будет ошибка (isc-dhcp-server не запущен - ОШИБКА) и потребуется перезагрузка после того как вы подключите локальную сеть.
- Установленная веб-панель может не работать со всеми конфигами .ovpn других поставщиков или даже конфликтовать.
- Если вы замечаете проблемы с сетью после того как включили тестовую функцию "телеграмм бота", то вам следует отключить её во избежания обрыва соединения (малый процент жалоб).
- При настройке NETPLAN маску сети нужно указывать в формате "/24", а не в "255.255.255.0" иначе у вас будет ошибка (хотя скрипт вас пропустит дальше) и вы потеряете интернет соединение если оно у вас было и прийдется перезапускать скрипт с правильными настройками.
- [НОВОЕ] В скрипт добавлена поддержка PPOE-соединения вашего интернет провайдера через учетные данные Login/Password. 

# Установка
Скопируйте эту команду и следуйте инструкциям чтобы выполнить скрипт на своем оборудовании:
```bash
cd ~
```
Скачиваем и запускаем скрипт
```bash
wget https://raw.githubusercontent.com/vpn-vendor/vpn/main/vpn.sh -O vpn.sh && sudo bash vpn.sh
```
Еще бывает такая проблема -
"Will not apply HSTS... HSTS database must be a regular and non-world-writable file"
Исправляется она вот так
```bash
rm -f ~/.wget-hsts
```


# Программы
Скрипт выполняет автоматическое обновление системы и установка таких программ:
- htop
- net-tools
- isc-dhcp-server
- network-manager
- speedtest-cli
- nload
- mtr
- wireguard
- openvpn
- apache2
- git
- iptables-persistent
- openssh-server
- resolvconf
- и другие

Скрипт так же выполняет удаление таких программ в случае обнаружения:
- dnsmasq
- openvswitch-switch

# Контакты и сотрудничество
Всегда готов обсудить условия для работы с вами и вашими решениями.

Есть VPN-конфигурации для ваших linux серверов, а также Windows/MacOs и Android/Ios.

Обращайтесь за помощью/вопросами в телеграмм - https://t.me/vpn_vendor
